<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
Expresion:<input id="exp" type="text" onchange="actualizar()"><br><br>
x:<input id="pos" type="number" onchange="actualizar()">
<button onclick="resultadoSumarExpresionAlgebraica()">Go!</button>
<br><br>
<h1>5x^2x-2x+5x</h1>
<h1>-5x^-2x-2x+5x</h1>
<script>
    var expAlgebraica = '';
    var x;
    function actualizar() {
        expAlgebraica = document.getElementById('exp').value;
        i = Number(document.getElementById('pos').value);
    }





    function resultadoSumarExpresionAlgebraica(/*Aqui son variables globales: x, expAlgebraica*/) {/*x valor eje x en un momento dado del bucle*/
        let xTotal = 0;
        let numIzq = '';
        let numDrch = '';
        let arrayTotal = [];
        let ultimoCorte = 0;/*Donde acaba un polinomio, encontramos un - o un +*/

        if(expAlgebraica.indexOf('-') === -1 && expAlgebraica.indexOf('+')){/*Solo contiene un polinomio*/
            /*No hay ni - ni +*/
            /*evaluamos*/
            console.log("********");
            evaluarPolinomio(x, expAlgebraica);
            console.log("********");
        }else{
            for(let i = 0; i < expAlgebraica.length; i++){
                if((expAlgebraica[i] === '-' || expAlgebraica[i] === '+') && i !== 0){
                    if(expAlgebraica[i-1] !== '^'){
                        evaluarPolinomio(x, expAlgebraica.substring(ultimoCorte, i));
                        ultimoCorte = i;
                    }
                }
                arrayTotal.push(xTotal);
            }
            evaluarPolinomio(x, expAlgebraica.substring(ultimoCorte));
        }


        //return arrayTotal.reduce(function(a, b){ return a + b; });/*Sumamos todos los elementos del array*/
        //console.log(arrayTotal.reduce(function(a, b){ return a + b; }))
    }

    function evaluarPolinomio(x, polinomio) {
        console.log("Polinomio" + polinomio);
        if(polinomio.indexOf('X') !== -1){/*Contiene X*/
            console.log("contien")
        }else{
            
        }
    }























    /*let xTotal = 0;
    let numIzq = '';
    let numDrch = '';
    if(expAlgebraica.indexOf('X') !== -1){
        xTotal = i;
    }
    numIzq = expAlgebraica.substring(0, expAlgebraica.indexOf('X'));
    if(expAlgebraica.indexOf('^') !== -1){
        numDrch = expAlgebraica.substring(expAlgebraica.indexOf('^')+1);
    }
    if(numIzq !== ''){
        numIzq = Number(numIzq);
    }
    if(numDrch !== ''){
        numDrch = Number(numDrch);
    }
    if(numDrch !== ''){
        xTotal = Math.pow(xTotal, numDrch);
        if(numIzq !== ''){
            xTotal *= numIzq;
        }
    }
    else if(numIzq !== ''){
        xTotal = xTotal * numIzq;
    }
    console.log('numIzq ' + numIzq);
    console.log('numDrch ' + numDrch)
    console.log('xTotal ' + xTotal)*/

</script>

</body>
</html>